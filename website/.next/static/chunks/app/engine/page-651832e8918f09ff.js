(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{5087:function(e,s,t){Promise.resolve().then(t.bind(t,6229))},6229:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return V}});var r=t(7821),a=t(8078),n=t(7469),i=t(7769),l=t(7918),c=t(2696),d=t(3184),o="Progress",[u,x]=(0,c.b)(o),[m,f]=u(o),h=a.forwardRef((e,s)=>{var t,a,n,i;let{__scopeProgress:l,value:c=null,max:o,getValueLabel:u=v,...x}=e;(o||0===o)&&!b(o)&&console.error((t="".concat(o),a="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let f=b(o)?o:100;null===c||N(c,f)||console.error((n="".concat(c),i="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let h=N(c,f)?c:null,p=y(h)?u(h,f):void 0;return(0,r.jsx)(m,{scope:l,value:h,max:f,children:(0,r.jsx)(d.WV.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":y(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":j(h,f),"data-value":null!=h?h:void 0,"data-max":f,...x,ref:s})})});h.displayName=o;var p="ProgressIndicator",g=a.forwardRef((e,s)=>{var t;let{__scopeProgress:a,...n}=e,i=f(p,a);return(0,r.jsx)(d.WV.div,{"data-state":j(i.value,i.max),"data-value":null!==(t=i.value)&&void 0!==t?t:void 0,"data-max":i.max,...n,ref:s})});function v(e,s){return"".concat(Math.round(e/s*100),"%")}function j(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function y(e){return"number"==typeof e}function b(e){return y(e)&&!isNaN(e)&&e>0}function N(e,s){return y(e)&&!isNaN(e)&&e<=s&&e>=0}g.displayName=p;var w=t(3892);let k=a.forwardRef((e,s)=>{let{className:t,value:a,...n}=e;return(0,r.jsx)(h,{ref:s,className:(0,w.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,r.jsx)(g,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});k.displayName=h.displayName;var S=t(6576);let C=(0,S.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var R=t(6200),Z=t(2592);let z=(0,S.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),E=(0,S.Z)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),P=(0,S.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),O=(0,S.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),I=(0,S.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var Y=t(6937),T=t(4542);function V(){let[e,s]=(0,a.useState)(null),[t,c]=(0,a.useState)([]),[d,o]=(0,a.useState)([]),[u,x]=(0,a.useState)(!1),m=async()=>{try{let e=await fetch("/api/engine?action=status"),t=await e.json();s(t)}catch(e){console.error("Failed to fetch engine status:",e)}},f=async()=>{try{let e=await fetch("/api/engine?action=history"),s=await e.json();c(s)}catch(e){console.error("Failed to fetch history:",e)}},h=async()=>{try{let e=await fetch("/api/engine?action=queue"),s=await e.json();o(s)}catch(e){console.error("Failed to fetch queue:",e)}};(0,a.useEffect)(()=>{m(),f(),h();let e=setInterval(()=>{m(),f(),h()},15e3);return()=>clearInterval(e)},[]);let p=async e=>{if(u){console.log("[UI] Action already in progress");return}x(!0);try{let t=await fetch("/api/engine",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e})});if(!t.ok)throw Error("Engine action failed");let r=await t.json();s(r),setTimeout(()=>{m(),f(),h()},3e3)}catch(e){console.error("Failed to execute action:",e)}finally{setTimeout(()=>x(!1),2e3)}};if(!e)return(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(C,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading engine status..."})]})});let g=e.stats.proposalsGenerated>0?e.stats.proposalsApproved/e.stats.proposalsGenerated*100:0;return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)("nav",{className:"border-b border-border/40 bg-background/95 backdrop-blur",children:(0,r.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,r.jsxs)(T.default,{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:(0,r.jsx)("span",{className:"text-lg font-bold text-primary-foreground",children:"U"})}),(0,r.jsx)("span",{className:"text-xl font-bold",children:"UPLim Engine"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(l.C,{variant:e.isRunning?"default":"secondary",className:"gap-1",children:[(0,r.jsx)(R.Z,{className:"h-3 w-3"}),e.isRunning?"Running":"Stopped"]}),(0,r.jsx)(T.default,{href:"/",children:(0,r.jsx)(n.z,{variant:"outline",size:"sm",children:"Back to Home"})})]})]})}),(0,r.jsxs)("div",{className:"container py-8",children:[(0,r.jsxs)(i.Zb,{className:"mb-8",children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Engine Controls"}),(0,r.jsx)(i.SZ,{children:"Manage the autonomous evolution engine"})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsxs)(n.z,{onClick:()=>p("start"),disabled:e.isRunning||u,className:"gap-2",children:[(0,r.jsx)(Z.Z,{className:"h-4 w-4"}),"Start Engine"]}),(0,r.jsxs)(n.z,{onClick:()=>p("pause"),disabled:!e.isRunning||u,variant:"outline",className:"gap-2",children:[(0,r.jsx)(z,{className:"h-4 w-4"}),"Pause"]}),(0,r.jsxs)(n.z,{onClick:()=>p("resume"),disabled:e.isRunning||u,variant:"outline",className:"gap-2",children:[(0,r.jsx)(Z.Z,{className:"h-4 w-4"}),"Resume"]}),(0,r.jsxs)(n.z,{onClick:()=>p("stop"),disabled:!e.isRunning||u,variant:"destructive",className:"gap-2",children:[(0,r.jsx)(E,{className:"h-4 w-4"}),"Stop Engine"]}),(0,r.jsxs)(n.z,{onClick:()=>p("iterate"),disabled:u,variant:"secondary",className:"gap-2",children:[(0,r.jsx)(C,{className:"h-4 w-4"}),"Run One Iteration"]})]})})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"pb-3",children:[(0,r.jsx)(i.SZ,{children:"Current Iteration"}),(0,r.jsx)(i.ll,{className:"text-4xl",children:e.currentIteration})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Total: ",e.stats.totalIterations]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"pb-3",children:[(0,r.jsx)(i.SZ,{children:"Proposals"}),(0,r.jsx)(i.ll,{className:"text-4xl",children:e.stats.proposalsGenerated})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,r.jsx)(P,{className:"h-3 w-3"}),e.stats.proposalsApproved," approved"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-red-600",children:[(0,r.jsx)(O,{className:"h-3 w-3"}),e.stats.proposalsRejected," rejected"]})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"pb-3",children:[(0,r.jsx)(i.SZ,{children:"Tests"}),(0,r.jsx)(i.ll,{className:"text-4xl",children:e.stats.testsPassed+e.stats.testsFailed})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,r.jsxs)("div",{className:"text-green-600",children:[e.stats.testsPassed," passed"]}),(0,r.jsxs)("div",{className:"text-red-600",children:[e.stats.testsFailed," failed"]})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"pb-3",children:[(0,r.jsx)(i.SZ,{children:"Ideology Alignment"}),(0,r.jsxs)(i.ll,{className:"text-4xl",children:[Math.round(g),"%"]})]}),(0,r.jsx)(i.aY,{children:(0,r.jsx)(k,{value:g,className:"h-2"})})]})]}),(0,r.jsxs)(Y.mQ,{defaultValue:"history",className:"space-y-6",children:[(0,r.jsxs)(Y.dr,{children:[(0,r.jsx)(Y.SP,{value:"history",children:"Evolution History"}),(0,r.jsx)(Y.SP,{value:"queue",children:"Tasks Queue"}),(0,r.jsx)(Y.SP,{value:"logs",children:"System Logs"})]}),(0,r.jsx)(Y.nU,{value:"history",className:"space-y-4",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Evolution History"}),(0,r.jsx)(i.SZ,{children:"Recent language improvements and changes"})]}),(0,r.jsx)(i.aY,{children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,r.jsx)(I,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No evolution history yet. Start the engine to begin."})]}):(0,r.jsx)("div",{className:"space-y-4",children:t.map((e,s)=>(0,r.jsxs)("div",{className:"border-l-2 border-primary pl-4 py-2",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.proposal.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.proposal.description})]}),(0,r.jsx)(l.C,{variant:"implemented"===e.status?"default":"destructive",children:e.status})]}),(0,r.jsxs)("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Iteration ",e.iteration]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:new Date(e.timestamp).toLocaleString()}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Score: ",e.proposal.overallScore,"%"]})]})]},s))})})]})}),(0,r.jsx)(Y.nU,{value:"queue",className:"space-y-4",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Tasks Queue"}),(0,r.jsxs)(i.SZ,{children:[d.length," pending tasks"]})]}),(0,r.jsx)(i.aY,{children:0===d.length?(0,r.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,r.jsx)(P,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No pending tasks. Queue is clear!"})]}):(0,r.jsx)("div",{className:"space-y-3",children:d.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)(l.C,{variant:"outline",children:e.type}),(0,r.jsx)(l.C,{variant:"critical"===e.priority?"destructive":"high"===e.priority?"default":"secondary",children:e.priority})]}),(0,r.jsx)("p",{className:"text-sm",children:e.description})]}),(0,r.jsx)(l.C,{variant:"secondary",children:e.status})]},e.id))})})]})}),(0,r.jsx)(Y.nU,{value:"logs",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"System Logs"}),(0,r.jsx)(i.SZ,{children:"Real-time engine activity"})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4 font-mono text-xs space-y-1 max-h-[500px] overflow-y-auto",children:[(0,r.jsx)("div",{className:"text-green-600",children:"[Engine] System initialized"}),(0,r.jsxs)("div",{className:"text-blue-600",children:["[Engine] Current iteration: ",e.currentIteration]}),(0,r.jsxs)("div",{className:"text-yellow-600",children:["[Engine] Status: ",e.isRunning?"Running":"Stopped"]}),(0,r.jsxs)("div",{className:"text-muted-foreground",children:["[Engine] Version: ",e.version]}),(0,r.jsx)("div",{className:"text-muted-foreground",children:"[Engine] Monitoring active..."})]})})]})})]})]})]})}},7918:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var r=t(7821);t(8078);var a=t(898),n=t(3892);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...a})}},7469:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var r=t(7821),a=t(8078),n=t(7035),i=t(898),l=t(3892);let c=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:i,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:a,size:i,className:t})),ref:s,...o})});d.displayName="Button"},7769:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var r=t(7821),a=t(8078),n=t(3892);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},6937:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var r=t(7821),a=t(8078),n=t(4601),i=t(3892);let l=n.fC,c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});c.displayName=n.aV.displayName;let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});d.displayName=n.xz.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});o.displayName=n.VY.displayName},3892:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var r=t(2605),a=t(1638);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}}},function(e){e.O(0,[158,485,431,115,364,744],function(){return e(e.s=5087)}),_N_E=e.O()}]);